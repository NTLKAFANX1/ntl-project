<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Bot Manager</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 0; background: #121212; color: #fff; }
  header { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background: #1f1f1f; border-bottom: 1px solid #333; }
  header h1 { margin: 0; font-size: 20px; }
  header button { background: #4caf50; color: #fff; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; }
  #sidebar { width: 200px; background: #1e1e1e; height: calc(100vh - 50px); float: left; overflow-y: auto; border-right: 1px solid #333; padding: 10px; }
  #sidebar ul { list-style: none; padding: 0; margin: 0; }
  #sidebar ul li { padding: 5px; margin-bottom: 5px; background: #2c2c2c; cursor: pointer; border-radius: 4px; display: flex; justify-content: space-between; align-items: center; }
  #sidebar ul li span { flex: 1; }
  #sidebar ul li button { background: #f44336; border: none; color: #fff; padding: 2px 6px; border-radius: 4px; cursor: pointer; }
  #editor { margin-left: 200px; padding: 20px; }
  #editor textarea { width: 100%; height: 300px; background: #1e1e1e; color: #fff; border: none; padding: 10px; border-radius: 4px; font-family: monospace; font-size: 14px; resize: none; }
  #editor button { margin-top: 10px; background: #2196f3; color: #fff; border: none; padding: 5px 10px; cursor: pointer; border-radius: 4px; }
  #console { margin-left: 200px; padding: 20px; background: #111; height: 200px; overflow-y: auto; font-family: monospace; font-size: 13px; border-top: 1px solid #333; }
</style>
</head>
<body>

<header>
  <h1>Bot Manager</h1>
  <button id="addFileBtn">+ Add File</button>
</header>

<div id="sidebar">
  <ul id="fileList">
    <!-- ملفات البوت ستظهر هنا -->
  </ul>
</div>

<div id="editor">
  <input type="text" id="fileName" placeholder="File Name" style="width:100%;padding:5px;margin-bottom:5px;border-radius:4px;border:none;">
  <textarea id="fileContent" placeholder="Bot code here..."></textarea>
  <br>
  <button id="saveBtn">Save</button>
  <button id="startBtn">Start Bot</button>
  <button id="stopBtn">Stop Bot</button>
</div>

<div id="console"></div>

<script>
let bots = {};
let currentFile = null;

function logConsole(msg) {
  const consoleDiv = document.getElementById('console');
  consoleDiv.innerHTML += msg + '<br>';
  consoleDiv.scrollTop = consoleDiv.scrollHeight;
}

document.getElementById('addFileBtn').onclick = () => {
  const name = prompt('Enter file name:');
  if(name) {
    bots[name] = '';
    updateFileList();
  }
}

function updateFileList() {
  const list = document.getElementById('fileList');
  list.innerHTML = '';
  for(const name in bots) {
    const li = document.createElement('li');
    const span = document.createElement('span');
    span.textContent = name;
    span.onclick = () => {
      currentFile = name;
      document.getElementById('fileName').value = name;
      document.getElementById('fileContent').value = bots[name];
    };
    const delBtn = document.createElement('button');
    delBtn.textContent = 'X';
    delBtn.onclick = (e) => {
      e.stopPropagation();
      delete bots[name];
      if(currentFile === name) { document.getElementById('fileContent').value = ''; currentFile=null; }
      updateFileList();
    };
    li.appendChild(span);
    li.appendChild(delBtn);
    list.appendChild(li);
  }
}

document.getElementById('saveBtn').onclick = () => {
  if(currentFile) {
    bots[currentFile] = document.getElementById('fileContent').value;
    logConsole(`Saved ${currentFile}`);
  } else {
    alert('Select a file first!');
  }
}

document.getElementById('startBtn').onclick = () => {
  if(currentFile) logConsole(`${currentFile} is starting...`);
  else alert('Select a file first!');
}

document.getElementById('stopBtn').onclick = () => {
  if(currentFile) logConsole(`${currentFile} is stopping...`);
  else alert('Select a file first!');
}

// Init
updateFileList();
</script>

</body>
</html>
