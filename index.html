<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>بوت مباشر</title>
</head>
<body>

<h2>تشغيل البوت</h2>
<input type="text" id="botToken" placeholder="توكن البوت">
<button onclick="startBot()">تشغيل البوت</button>
<div id="botStatus"></div>

<h2>تشغيل كود JS</h2>
<textarea id="codeArea">// ضع كود JS هنا</textarea>
<button onclick="runCode()">تشغيل الكود</button>
<div id="codeStatus"></div>

<h2>رفع ملفات البوت</h2>
<input type="file" id="botFile">
<button onclick="uploadFile()">رفع الملف</button>
<div id="uploadStatus"></div>

<script>
function startBot(){
  const token = document.getElementById('botToken').value.trim();
  fetch('/start-bot',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({token})
  }).then(r=>r.json()).then(d=> document.getElementById('botStatus').innerText = d.message);
}

function runCode(){
  const code = document.getElementById('codeArea').value;
  fetch('/run-code',{
    method:'POST',
    headers:{'Content-Type':'application/json'},
    body:JSON.stringify({code})
  }).then(r=>r.json()).then(d=> document.getElementById('codeStatus').innerText=d.message);
}

function uploadFile(){
  const file = document.getElementById('botFile').files[0];
  if(!file) return;
  const formData = new FormData();
  formData.append('file', file);
  fetch('/upload',{method:'POST', body: formData})
    .then(r=>r.json())
    .then(d=> document.getElementById('uploadStatus').innerText = d.message);
}
</script>

</body>
</html>
